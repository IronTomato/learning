编码问题
=========

字符集与字符集编码
----------------

计算机中是用二进制位表示一切，而人类的语言文字由各种符号表示，为了在计算机中存储和传输字符，必须将字符转换为数字，最容易想到的方法就是为每个字符编个号，用这个编号表示字符。字符集就是人们制定的一套编号标准，它建立了从字符到数字之间的互相映射。最常见的比如ASCII，Unicode，GB2312。

字符集只是规定了数字和字符间的映射，至于数字如何在计算机中表示，则没有涉及。规定了一个字符所对应的数字在计算机中如何表示的方案，称为字符集编码，它规定了要用多少位元表示这个数字，每个位元包含的意义，还要兼顾计算机处理时能否区分不同的两个数字。

我们常说的ASCII编码，其实包含两层含义：1)用ASCII字符集将字符映射为数字，2)用一个字节保存这个数字

由于设计字符集就是为了在计算机中表示字符，所以通常将编码方案也考虑在内，一个字符集对应一个编码方案，没有为编码方案单独起名字的必要，甚至在概念上也不加区分，直到Unicode出现。

Unicode的目标是大而全，它设计用于包含全世界所有语言文字符号，因此编号范围非常大，为了表示这个庞大的数字，必须使用更多的位元，然而这个字符集中的字符的使用频率是极度不对称的，为了那些较少使用的字符，而让所有字符占用那么多位元，是对存储和传输资源的浪费，于是多种不同的编码方案出现了。

Unicode与UTF-8
---------------

前面讲了字符集与字符集编码的关系，Unicode与UTF-8就是这种关系。Unicode是字符集，它是数字与字符间的映射关系。UTF-8中UTF是 Unicode Transformation Format的缩写，它是一种数字的表示形式，而数字到字符间的转换要依赖Unicode字符集。

UTF-8采取变长的方式平衡存储空间浪费和表示范围巨大的问题。

> 1. 单字节的字符，字节的第一位设为0，对于英语文本，UTF-8码只占用一个字节，和ASCII码完全相同；   
> 2. n个字节的字符(n>1)，第一个字节的前n位设为1，第n+1位设为0，后面字节的前两位都设为10，这n个字节的其余空位填充该字符unicode码，高位用0补足。  
> 
> 这样就形成了如下的UTF-8标记位：
> 
> 0xxxxxxx  
> 110xxxxx 10xxxxxx  
> 1110xxxx 10xxxxxx 10xxxxxx  
> 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx  
> 111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx  
> 1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx  
> 
> 作者：uuspider  
> 链接：http://www.zhihu.com/question/23374078/answer/65352538  
> 来源：知乎  

#####参考资料
>[谈谈Unicode编码，简要解释UCS、UTF、BMP、BOM等名词](http://www.fmddlmyy.cn/text6.html)  
>[UTF-16与UCS-2的区别](http://demon.tw/programming/utf-16-ucs-2.html)  
>[编码字符集与字符集编码的区别](http://www.cnblogs.com/zwq194/archive/2012/03/29/2422981.html)  
>[Unicode 和 UTF-8 有何区别](http://www.zhihu.com/question/23374078)
